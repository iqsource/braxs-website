---
interface Props {
  variant?: 'primary' | 'secondary' | 'ghost';
  size?: 'sm' | 'md' | 'lg' | 'xl';
  href?: string;
  class?: string;
  fullWidth?: boolean;
  type?: 'button' | 'submit' | 'reset';
}

const {
  variant = 'primary',
  size = 'md',
  href,
  class: className = '',
  fullWidth = false,
  type = 'button'
} = Astro.props;

const Tag = href ? 'a' : 'button';
const baseClasses = 'btn';
const variantClasses = `btn--${variant}`;
const sizeClasses = `btn--${size}`;
const widthClasses = fullWidth ? 'btn--full' : '';
---

<Tag
  href={href}
  type={!href ? type : undefined}
  class:list={[baseClasses, variantClasses, sizeClasses, widthClasses, className]}
>
  <slot />
</Tag>

<style>
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    font-family: var(--font-body);
    font-weight: var(--font-semibold);
    text-decoration: none;
    border: none;
    border-radius: var(--radius-xl);
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-smooth);
    position: relative;
    overflow: hidden;
    white-space: nowrap;
  }

  /* Ripple effect */
  .btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.6s var(--ease-smooth), height 0.6s var(--ease-smooth);
  }

  .btn:hover::before {
    width: 300px;
    height: 300px;
  }

  .btn:active {
    transform: translateY(0);
    transition-duration: 0.1s;
  }

  /* Primary */
  .btn--primary {
    background: var(--gradient-gold);
    color: var(--dark-900);
    box-shadow: var(--shadow-md), 0 4px 14px -3px rgba(201, 162, 39, 0.4);
  }

  .btn--primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg), var(--shadow-gold);
  }

  /* Secondary */
  .btn--secondary {
    background: transparent;
    color: var(--text-primary);
    border: 2px solid var(--glass-border-gold);
  }

  .btn--secondary:hover {
    background: rgba(212, 175, 55, 0.1);
    border-color: var(--gold-400);
    transform: translateY(-2px);
  }

  /* Ghost */
  .btn--ghost {
    background: transparent;
    color: var(--gold-400);
  }

  .btn--ghost:hover {
    background: rgba(212, 175, 55, 0.1);
  }

  .btn--ghost::before {
    display: none;
  }

  /* Sizes */
  .btn--sm {
    padding: var(--space-2) var(--space-4);
    font-size: var(--text-xs);
  }

  .btn--md {
    padding: var(--space-3) var(--space-6);
    font-size: var(--text-sm);
  }

  .btn--lg {
    padding: var(--space-4) var(--space-8);
    font-size: var(--text-base);
  }

  .btn--xl {
    padding: var(--space-5) var(--space-10);
    font-size: var(--text-lg);
  }

  /* Full Width */
  .btn--full {
    width: 100%;
  }
</style>
